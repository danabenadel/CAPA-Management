{
	"info": {
		"_postman_id": "genericlab-capa-collection",
		"name": "GenericLab CAPA Management",
		"description": "Collection compl√®te des endpoints pour la gestion des CAPA.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@genericlab.com\",\n    \"password\": \"Admin123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/profile",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"testuser\",\n    \"email\": \"testuser@genericlab.com\",\n    \"firstName\": \"Test\",\n    \"lastName\": \"User\",\n    \"roleCode\": \"EMPLOYEE\",\n    \"deptCode\": \"PROD\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Updated Name\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Events",
			"item": [
				{
					"name": "Get All Events",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"events"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Event",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reporterUserId\": 1,\n    \"problemDescription\": \"Test anomaly description\",\n    \"eventDate\": \"2024-05-20\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"events"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Event by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/events/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"events",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Immediate Action",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"actionDescription\": \"Stopped the line\",\n    \"responsibleUserId\": 1,\n    \"deadline\": \"2024-05-21T12:00:00Z\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/events/1/immediate-action",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"events",
								"1",
								"immediate-action"
							]
						}
					},
					"response": []
				},
				{
					"name": "Evaluate Event",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"isAnomaly\": true,\n    \"evaluationComment\": \"Confirmed anomaly\",\n    \"evaluatorUserId\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/events/1/evaluate",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"events",
								"1",
								"evaluate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Investigation",
			"item": [
				{
					"name": "Get All Investigations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/investigations",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"investigations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Investigation",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"eventId\": 1,\n    \"investigatorUserId\": 2,\n    \"whatProblem\": \"Detailed problem description\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/investigations",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"investigations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Ishikawa Item",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"category\": \"MATIERE\",\n    \"causeDescription\": \"Raw material defect\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/investigations/1/ishikawa",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"investigations",
								"1",
								"ishikawa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Cause",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"category\": \"A\",\n    \"causeDescription\": \"Confirmed root cause\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/investigations/1/cause",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"investigations",
								"1",
								"cause"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Risk Analysis",
			"item": [
				{
					"name": "Get All Risks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/risks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"risks"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Risk Analysis",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"eventId\": 1,\n    \"concernedDomain\": \"Production\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/risks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"risks"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Evaluation Item",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phaseAction\": \"Action Phase 1\",\n    \"probabilityScore\": 3,\n    \"detectabilityScore\": 2,\n    \"gravityScore\": 4\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/risks/1/item",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"risks",
								"1",
								"item"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "CAPA",
			"item": [
				{
					"name": "Get All CAPAs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/capa",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"capa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create CAPA",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"eventId\": 1,\n    \"initiatorUserId\": 1,\n    \"openingReason\": \"Major deviation\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/capa",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"capa"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get CAPA by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/capa/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"capa",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Common",
			"item": [
				{
					"name": "Get Notifications",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/common/notifications/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"common",
								"notifications",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Audit Logs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/common/audit",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"common",
								"audit"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3001",
			"type": "string"
		}
	]
}
